<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#000000" />
  <meta name="color-scheme" content="dark" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-mobile-web-app-title" content="INFINITEX" />

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="assets/icons/icon-192.png" />
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png" />

  <title>INFINITEX â€” Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹</title>
  <meta name="description" content="Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù…Ù†Ø¸Ù… ÙˆÙ…ÙˆØ«Ù‘Ù‚ â€” Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ù…Ù† INFINITEX." />

  <link rel="preload" href="assets/fonts/avenir-black-arabic.otf" as="font" type="font/otf" crossorigin>

  <style>
    @font-face {
      font-family: "AvenirBlackArabic";
      src: url("assets/fonts/avenir-black-arabic.otf") format("opentype");
      font-display: swap;
    }

    :root {
      --bg: #050607;
      --text: #eef2f3;
      --muted: #a7b0b5;
      --muted2: #7d878d;
      --line: rgba(255,255,255,.08);
      --accent: #39ff14;
      --accent2: #2bdc12;
      --gold: #ffd700;
      --red: #ff4757;
      --radius: 20px;
      --max: 700px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; background: #000; }

    body {
      font-family: "AvenirBlackArabic", system-ui, sans-serif;
      color: var(--text);
      background: linear-gradient(180deg, var(--bg) 0%, #07090a 100%);
      overflow-x: hidden;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
    }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

    .animate { animation: fadeIn 0.5s ease forwards; opacity: 0; }
    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }

    .wrap { max-width: var(--max); margin: 0 auto; padding: 0 16px; }
    section { padding: 40px 0; }

    .h1 { font-size: clamp(24px, 7vw, 40px); line-height: 1.15; }
    .h2 { font-size: clamp(20px, 5.5vw, 28px); line-height: 1.2; margin-bottom: 12px; }
    .h3 { font-size: clamp(16px, 4.5vw, 20px); line-height: 1.3; }
    .p { color: var(--muted); font-size: 14px; line-height: 1.85; }

    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(0,0,0,.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--line);
    }
    .nav { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; }
    .brand img { height: 20px; }
    .navlinks { display: flex; gap: 6px; }
    .navlinks a { padding: 8px 12px; border-radius: 10px; color: var(--muted); font-size: 12px; text-decoration: none; }
    .navlinks a:hover, .navlinks a.active { color: var(--text); background: rgba(255,255,255,.05); }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.03);
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
    }

    .dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      animation: pulse 2s infinite;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 14px 24px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.03);
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      width: 100%;
    }

    .btn:hover { transform: translateY(-2px); border-color: rgba(57,255,20,.4); }

    .btn.primary {
      background: linear-gradient(180deg, rgba(57,255,20,.95), rgba(43,220,18,.85));
      border-color: rgba(57,255,20,.6);
      color: #061006;
    }

    .btn.ghost { background: transparent; }

    .btn-row { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }

    .card {
      background: rgba(255,255,255,.02);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 24px 20px;
      margin-bottom: 16px;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .feature-card {
      background: rgba(0,0,0,.3);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 20px 16px;
      transition: all 0.3s;
    }

    .feature-card:hover {
      border-color: rgba(57,255,20,.2);
      transform: translateY(-2px);
    }

    .feature-card .emoji {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .feature-card h3 {
      font-size: 15px;
      margin-bottom: 8px;
    }

    .feature-card p {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.8;
    }

    .hero {
      text-align: center;
      padding: 30px 0 40px;
      position: relative;
    }

    .hero::before {
      content: "";
      position: absolute;
      top: -100px;
      left: 50%;
      transform: translateX(-50%);
      width: 500px;
      height: 400px;
      background: radial-gradient(circle, rgba(57,255,20,.12) 0%, transparent 60%);
      pointer-events: none;
    }

    .hero-content { position: relative; z-index: 1; }

    .hero-subtitle {
      font-size: clamp(16px, 4.5vw, 22px);
      color: var(--muted);
      margin: 8px 0 16px;
    }

    .hero-desc {
      font-size: 14px;
      color: var(--muted);
      max-width: 500px;
      margin: 0 auto 20px;
      line-height: 1.9;
    }

    .section-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .form-card {
      background: rgba(0,0,0,.4);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 24px 20px;
    }

    .form-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 12px;
    }

    .yamm-logo {
      height: 22px;
      background: rgba(255,255,255,.92);
      padding: 6px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
    }

    .form-group { margin-bottom: 14px; text-align: right; }
    .form-group label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    .form-group input {
      width: 100%;
      padding: 12px 14px;
      background: rgba(255,255,255,.03);
      border: 1px solid var(--line);
      border-radius: 10px;
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
    }
    .form-group input:focus {
      outline: none;
      border-color: rgba(57,255,20,.4);
    }

    .phone-row { display: flex; gap: 10px; align-items: stretch; }
    .cc {
      min-width: 84px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.02);
      color: var(--muted);
      font-weight: 900;
      font-size: 13px;
      user-select: none;
      direction: ltr;
    }

    .hint {
      margin-top: 10px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size: 12px;
      line-height: 1.9;
    }
    .hint a { border-bottom: 1px dashed rgba(255,255,255,.28); color: inherit; text-decoration: none; }
    .hint a:hover { border-bottom-color: rgba(57,255,20,.55); color: var(--text); }

    .gold-card {
      background: linear-gradient(180deg, rgba(255,215,0,.04), rgba(255,215,0,.01));
      border: 1px solid rgba(255,215,0,.2);
      border-radius: var(--radius);
      padding: 28px 20px;
      text-align: center;
    }

    .gold-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: rgba(255,215,0,.1);
      border: 1px solid rgba(255,215,0,.25);
      border-radius: 10px;
      font-size: 12px;
      color: var(--gold);
      margin-bottom: 16px;
    }

    footer {
      background: #000;
      padding: 24px 0 100px;
      border-top: 1px solid var(--line);
      text-align: center;
    }
    .footer-brand { font-size: 16px; font-weight: 700; margin-bottom: 8px; }
    .footer-copy { font-size: 11px; color: var(--muted2); }
    .footer-links { display: flex; justify-content: center; gap: 10px; margin-top: 16px; flex-wrap: wrap; }
    .footer-links a {
      padding: 8px 14px;
      border: 1px solid var(--line);
      border-radius: 8px;
      font-size: 12px;
      color: var(--muted);
      text-decoration: none;
    }

    .mobile-nav {
      position: fixed;
      left: 10px;
      right: 10px;
      bottom: 10px;
      z-index: 200;
      display: none;
    }
    .mobile-nav-bar {
      background: rgba(5,6,7,.92);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,.1);
      border-radius: 18px;
      padding: 8px;
      display: flex;
      gap: 6px;
    }
    .mobile-nav-bar a {
      flex: 1;
      text-align: center;
      padding: 10px 6px;
      border-radius: 12px;
      background: rgba(0,0,0,.3);
      border: 1px solid rgba(255,255,255,.06);
      font-size: 10px;
      color: var(--muted);
      text-decoration: none;
    }
    .mobile-nav-bar a.active {
      border-color: rgba(57,255,20,.35);
      color: var(--text);
    }

    @media (max-width: 768px) {
      .navlinks { display: none; }
      .mobile-nav { display: block; }
      section { padding: 35px 0; }
    }

    @media (max-width: 480px) {
      .wrap { padding: 0 14px; }
      .card { padding: 20px 16px; }
      .feature-card { padding: 18px 14px; }
      .phone-row { flex-direction: column; }
    }

    .reveal { opacity: 0; transform: translateY(15px); transition: all 0.5s ease; }
    .reveal.visible { opacity: 1; transform: translateY(0); }

    :root { --chat-launcher-bottom: 24px; }
    @media (max-width: 720px){
      :root{ --chat-launcher-bottom: calc(env(safe-area-inset-bottom, 0px) + 140px); }
    }
    button[id*="popcorn"],
    button[class*="popcorn"],
    a[id*="popcorn"],
    a[class*="popcorn"],
    div[id*="popcorn"][role="button"],
    div[class*="popcorn"][role="button"]{
      bottom: var(--chat-launcher-bottom) !important;
    }
  </style>
  <script src="assets/js/ix-live-content.js" defer></script>
</head>

<body>
  <header>
    <div class="wrap">
      <nav class="nav">
        <div class="brand"><img src="assets/brands/infinitex-logo.png" alt="INFINITEX" data-ix-src="global.media.infinitexLogo" /></div>
        <div class="navlinks">
          <a href="index.html" data-ix-text="global.nav.home" data-ix-permission="permissions.showHome">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
          <a href="track.html" data-ix-text="global.nav.track" data-ix-permission="permissions.showTrack">ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨</a>
          <a href="returns.html" class="active" data-ix-text="global.nav.returns" data-ix-permission="permissions.showReturns">Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹</a>
          <a href="products.html" data-ix-text="global.nav.products" data-ix-permission="permissions.showProducts">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <div class="hero-content">
          <div class="chip" id="ix-returns-badge" data-ix-chip="pages.returns.badge"><span class="dot"></span> Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù…Ù†Ø¸Ù… ÙˆÙ…ÙˆØ«Ù‘Ù‚</div>
          <h1 class="h1" id="ix-returns-title" data-ix-html="pages.returns.title" style="margin-top: 16px;">Ø§Ø´ØªØ±Ù Ø¨Ø«Ù‚Ø©â€¦<br/>ÙˆØ§Ø³ØªØ±Ø¬Ø¹ Ø¨ÙƒÙ„ ÙˆØ¶ÙˆØ­</h1>
          <p class="hero-desc" id="ix-returns-desc" data-ix-text="pages.returns.desc">ØµÙ…Ù…Ù†Ø§ â€œØ§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠâ€ Ù„ØªÙƒÙˆÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ Ø£ÙƒØ«Ø± Ø§Ø·Ù…Ø¦Ù†Ø§Ù†Ù‹Ø§. Ù…Ù† Ù‡Ù†Ø§ ØªØ¨Ø¯Ø£ Ø·Ù„Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨Ø®Ø·ÙˆØ§Øª ÙˆØ§Ø¶Ø­Ø©.</p>
        </div>
      </div>
    </section>

    <section class="reveal">
      <div class="wrap">
        <div class="form-card" aria-label="Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø§Ø³ØªØ±Ø¬Ø§Ø¹">
          <div class="form-head">
            <b id="ix-returns-formTitle" data-ix-text="pages.returns.formTitle">Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ø§Ø³ØªØ±Ø¬Ø§Ø¹</b>
            <img class="yamm-logo" id="ix-yamm-logo" src="assets/brands/yamm-logo.png" alt="Yamm" data-ix-src="global.media.yammLogo" />
          </div>

          <form id="returnForm" novalidate>
            <div class="form-group">
              <label for="orderNumber" id="ix-returns-orderLabel" data-ix-text="pages.returns.orderLabel">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</label>
              <input
                id="orderNumber"
                name="orderNumber"
                inputmode="numeric"
                autocomplete="off"
                placeholder="Ù…Ø«Ø§Ù„: 3455"
                data-ix-placeholder="pages.returns.orderPlaceholder"
                required
              />
            </div>

            <div class="form-group">
              <label for="phoneLocal" id="ix-returns-phoneLabel" data-ix-text="pages.returns.phoneLabel">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
              <div class="phone-row">
                <div class="cc" id="ix-returns-cc" aria-hidden="true" data-ix-cc="yamm.phone.countryCode">+966</div>
                <input
                  id="phoneLocal"
                  name="phoneLocal"
                  inputmode="tel"
                  autocomplete="tel"
                  placeholder="5XXXXXXXX"
                  data-ix-placeholder="pages.returns.phonePlaceholder"
                  required
                />
              </div>
            </div>

            <button class="btn primary" id="ix-returns-cta" type="submit" data-ix-text="pages.returns.cta">Ø§Ø¨Ø¯Ø£ Ø·Ù„Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹</button>

            <div id="msg" class="hint" style="display:none"></div>

            <div class="hint" style="margin-top:10px">
              Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ Ø¨ÙˆØ§Ø¨Ø© ÙŠÙ… Ø§Ù„Ø±Ø³Ù…ÙŠØ©.
              <span id="fallback" style="display:none"><br/>Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„: <a id="fallbackLink" href="#">Ø§Ø¶ØºØ· Ù‡Ù†Ø§</a></span>
            </div>
          </form>
        </div>
      </div>
    </section>

    <section class="reveal">
      <div class="wrap">
        <div class="section-header">
          <h2 class="h2">Ù„ÙŠØ´ Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¹Ù†Ø¯Ù†Ø§ Ø£ÙˆØ¶Ø­ØŸ</h2>
        </div>
        <div class="feature-grid">
          <div class="feature-card">
            <div class="emoji">ğŸ“„</div>
            <h3>Ø³ÙŠØ§Ø³Ø© ÙˆØ§Ø¶Ø­Ø©</h3>
            <p>ÙƒÙ„ Ø§Ù„Ø´Ø±ÙˆØ· Ù…ÙƒØªÙˆØ¨Ø© ÙÙŠ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠØ©.</p>
          </div>
          <div class="feature-card">
            <div class="emoji">âš¡</div>
            <h3>Ø®Ø·ÙˆØ§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
            <p>ØªØ¹Ø¨Ø¦Ø© Ø¨Ø³ÙŠØ·Ø© Ø«Ù… ØªØ­ÙˆÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ø¨ÙˆØ§Ø¨Ø© ÙŠÙ….</p>
          </div>
          <div class="feature-card">
            <div class="emoji">âœ…</div>
            <h3>Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ù†Ø¸Ù…Ø©</h3>
            <p>Ø·Ù„Ø¨Ùƒ ÙŠØªÙˆØ«Ù‚ ÙÙˆØ±Ø§Ù‹ Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø­Ø¯Ø«Ø©.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="reveal">
      <div class="wrap">
        <div class="gold-card">
          <div class="gold-badge">ğŸ›¡ Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ</div>
          <h2 class="h2">Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©</h2>
          <p class="p">ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©.</p>
          <div class="btn-row" style="max-width: 300px; margin: 20px auto 0;">
            <a id="ix-returns-policyLink" href="https://infinitex.sa/blogs/gold-warranty-policy" target="_blank" class="btn ghost" style="border-color: rgba(255,215,0,.3);" data-ix-href="global.links.warrantyPolicy" data-ix-text="pages.returns.policyCta">ÙØªØ­ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ</a>
          </div>
        </div>
      </div>
    </section>

    <section class="closing">
      <div class="wrap" style="text-align:center;">
        <p class="closing-text">ØªØ¨ØºÙ‰ ØªØ±Ø¬Ø¹ Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŸ</p>
        <a href="index.html" class="btn ghost" style="max-width: 260px; margin: 0 auto;">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø®Ø¯Ù…Ø§Øª</a>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div class="footer-brand">INFINITEX</div>
      <p class="footer-copy">Â© <span id="year"></span> INFINITEX. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
      <div class="footer-links">
        <a href="https://infinitex.sa/" target="_blank" data-ix-href="global.links.store" data-ix-text="global.nav.store">Ø§Ù„Ù…ØªØ¬Ø±</a>
        <a href="https://infinitex.sa/blogs/gold-warranty-policy" target="_blank" data-ix-href="global.links.warrantyPolicy" data-ix-text="global.nav.policy">Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠ</a>
      </div>
    </div>
  </footer>

  <div class="mobile-nav" role="navigation" aria-label="ØªÙ†Ù‚Ù„ Ø³Ø±ÙŠØ¹">
    <div class="mobile-nav-bar">
      <a href="index.html" data-ix-text="global.mobileNav.services" data-ix-permission="permissions.showHome">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="track.html" data-ix-text="global.mobileNav.track" data-ix-permission="permissions.showTrack">ØªØªØ¨Ø¹</a>
      <a href="returns.html" class="active" data-ix-text="global.mobileNav.returns" data-ix-permission="permissions.showReturns">Ø§Ø³ØªØ±Ø¬Ø§Ø¹</a>
      <a href="products.html" data-ix-text="global.mobileNav.products" data-ix-permission="permissions.showProducts">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
      <a href="https://infinitex.sa/" target="_blank" data-ix-href="global.links.store" data-ix-text="global.mobileNav.store">Ø§Ù„Ù…ØªØ¬Ø±</a>
    </div>
  </div>

  <script>
    function getYammCfg(){
      const c = (window.IX_CONTENT && typeof window.IX_CONTENT === "object") ? window.IX_CONTENT : {};
      const y = (c.yamm && typeof c.yamm === "object") ? c.yamm : {};
      const params = (y.params && typeof y.params === "object") ? y.params : {};
      const phone = (y.phone && typeof y.phone === "object") ? y.phone : {};
      return {
        baseUrl: String(y.baseUrl || "https://yamm.sa/store"),
        hostname: String(y.hostname || "infinitex.sa"),
        cc: String(phone.countryCode || "966"),
        params: {
          hostname: String(params.hostname || "hostname"),
          order: String(params.order || "order_number"),
          phone: String(params.phone || "phone_number"),
          countryCode: String(params.countryCode || "country_code")
        }
      };
    }

    function toEnglishDigits(s){
      return String(s || "")
        .replace(/[Ù -Ù©]/g, d => "Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©".indexOf(d))
        .replace(/[Û°-Û¹]/g, d => "Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹".indexOf(d));
    }

    function digitsOnly(s){
      return toEnglishDigits(s).replace(/\D+/g, "");
    }

    function normalizeSaudiMobile(input){
      const d = digitsOnly(input);
      if (!d) return { local: "", full: "" };

      let local = "";
      if (d.startsWith("966")) {
        local = d.slice(3);
      } else {
        local = d;
      }

      local = local.replace(/^0+/, "");

      if (!/^5\d{8}$/.test(local)) return { local: "", full: "" };

      return { local, full: "966" + local };
    }

    function buildYammUrl(orderNumber, phoneLocal, phoneFull){
      const cfg = getYammCfg();
      const url = new URL(cfg.baseUrl);

      url.searchParams.set(cfg.params.hostname, cfg.hostname);
      url.searchParams.set("hostname", cfg.hostname);
      url.searchParams.set("domain", cfg.hostname);
      url.searchParams.set("store", cfg.hostname);
      url.searchParams.set("merchant", cfg.hostname);

      const orderKeys = Array.from(new Set([
        cfg.params.order,
        "order_number","orderNumber","order","order_id","orderId","order_no","orderNo","ordernumber"
      ].filter(Boolean)));
      orderKeys.forEach(k => url.searchParams.set(k, orderNumber));

      const localKeys = Array.from(new Set([
        cfg.params.phone,
        "phone_number","phoneNumber","phone","mobile","mobile_number","mobileNumber","msisdn_local"
      ].filter(Boolean)));
      localKeys.forEach(k => url.searchParams.set(k, phoneLocal));

      const ccKeys = Array.from(new Set([
        cfg.params.countryCode,
        "country_code","cc"
      ].filter(Boolean)));
      ccKeys.forEach(k => url.searchParams.set(k, cfg.cc));

      const fullKeys = ["phone_full","full_phone","msisdn","msisdn_full"]; 
      fullKeys.forEach(k => url.searchParams.set(k, phoneFull));

      const h = new URLSearchParams();
      h.set(cfg.params.hostname, cfg.hostname);
      h.set(cfg.params.order, orderNumber);
      h.set(cfg.params.phone, phoneLocal);
      h.set("phone_full", phoneFull);
      h.set("cc", cfg.cc);
      url.hash = h.toString();

      return url.toString();
    }

    document.getElementById("year").textContent = new Date().getFullYear();

    const form = document.getElementById("returnForm");
    const msg = document.getElementById("msg");
    const fallback = document.getElementById("fallback");
    const fallbackLink = document.getElementById("fallbackLink");

    function showError(text){
      msg.style.display = "block";
      msg.textContent = text;
    }

    form.addEventListener("submit", function(e){
      e.preventDefault();

      msg.style.display = "none";
      fallback.style.display = "none";

      const order = digitsOnly(document.getElementById("orderNumber").value).trim();
      const phone = normalizeSaudiMobile(document.getElementById("phoneLocal").value);

      if (!/^\d{4,12}$/.test(order)) {
        showError("Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ ØºÙŠØ± ØµØ­ÙŠØ­. Ø§ÙƒØªØ¨ Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø· (Ù…Ø«Ø§Ù„: 3455).");
        document.getElementById("orderNumber").focus();
        return;
      }

      if (!phone.local) {
        showError("Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ØºÙŠØ± ØµØ­ÙŠØ­. Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø³Ø¹ÙˆØ¯ÙŠ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 5 (Ù…Ø«Ø§Ù„: 5XXXXXXXX).");
        document.getElementById("phoneLocal").focus();
        return;
      }

      const cfg = getYammCfg();

      const phoneFull = (cfg.cc || "966") + phone.local;
      const target = buildYammUrl(order, phone.local, phoneFull);

      fallbackLink.href = target;
      fallbackLink.target = "_blank";
      fallbackLink.rel = "noopener";
      fallback.style.display = "inline";

      window.location.href = target;
    });

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
  </script>

  <script src='https://app.trypopcorn.ai/loader.js' data-url='https://app.trypopcorn.ai' data-api-url='https://api.trypopcorn.ai' data-agent='' data-id='6e84f91f-4557-46ec-93f7-396599c5f38e'></script>
</body>
</html>
